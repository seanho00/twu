<html><head>
<link rel=stylesheet type="text/css" href="/handout.css" />
<link rel=stylesheet type="text/css" href="/exam.css" />
<script type="text/javascript" src="/exam.js"></script>
<style type="text/css"><!--
i { display: none; }
--></style>
<title>CMPT14x Fall 2007 Final Exam, Trinity Western, 8Dec2007</title>
</head><body>

<div><a href="#" onClick="toggleAnswers()">[ answers in web view ]</a></div>

<table class=nameblock>
  <tr><td>Name:		</td><td>_______________________________
  <i>K E Y</i></td></tr>
  <tr><td>Student ID:	</td><td>_______________________________</td></tr>
</table>

<br>Unless otherwise specified, all questions pertain to Python.
<br>Total points: 120

<ol class="main">

<li>
Name the five steps to <b>top-down</b>
problem solving as described in the text.
(It's okay if you can't remember the exact wording;
the concepts are more important.)
<u>[5]</u><br><br>
<i>Write, Apprehend, Design, Execute, Scrutinize<br></i>
<center><table width=80%><tr>
<td width=20%>___________</td>
<td width=20%>___________</td>
<td width=20%>___________</td>
<td width=20%>___________</td>
<td width=20%>___________</td>
</tr></table></center>

<li>
Describe the five software <b>control/flow</b> 
abstractions mentioned in the text. 
For each one, also name a corresponding Python language construct.
<u>[5]</u><br><br>
<i>Sequence (newlines in Python), Selection (if/elif/else),
Repetition (while/for), Composition (def/functions), Parallelism<br></i>
<center><table width=80%><tr>
<td width=20%>___________</td>
<td width=20%>___________</td>
<td width=20%>___________</td>
<td width=20%>___________</td>
<td width=20%>___________</td>
</tr></table></center>
<br><br>

<li> Fill in the blank: <u>[21]</u> <ol class="subparts">
  <li> "<b>Computers</b> are <i>tools</i>__________, and computing scientists
  are <i>toolsmiths</i>________________."
  <li> The Python keyword used to introduce a new function definition is
  <i>def</i>__________
  <li> Evaluate: <b><tt>23 &lt;&lt; 2</tt></b>: <i>92</i>__________
  <li> Convert <b>0x127</b> to decimal: <i>295</i>_________
  <li> Convert 1011 0101 from binary to <b>octal</b>:  <i>0265</i>_________
  <li> What word describes functions which <b>invoke</b> themselves?
  <i>recursion</i>
  <li> The <b>assignment</b> operator (=) with mutable objects like lists
  creates a <i>alias</i>___________
  <li> What is the <b>type</b> of the Python expression 
  <tt><b>'x' + 2*'y'</b></tt> ? <i>str</i>________
  <li> What special method name does Python use for the constructor/initializer
  method?  <i>__init__()</i>____________
  <li> Name the two Python program control constructs we learned which 
  correspond to <b>repetition</b>: <i>while, for</i>________ __________
  <li> In <b>statically-typed</b> languages, before we can use the value of a 
  variable for the first time in <br> a program, we need to
  ______________<i>declare</i> and ________________<i>initialize</i> it.
  <li> A DSL connection runs at <b>2Mb/s</b>.  Assuming full utilization of
  the bandwidth (which never happens in reality), how many <b>gigabytes</b>
  can be transferred in <b>2 hours</b>?  Use binary units. 
  <i>1800 MB = 1800/1024 GB (= 225/128 GB)</i>___________
  <li> The Python operator which tests for <b>membership</b> in a list is
  <i>in</i>________
  <li> The Python method on file objects that moves the <b>file position
  pointer</b> is called <i>seek()</i>__________
  <li> What English part of speech should a <b>function</b> name be?
  <i>verb</i>___________
  <li> What symbol is used to indicate logical <b>negation</b> in Python?
  <i>not</i>___________
  <li> The Python command used to skip to the next iteration of a loop 
  prematurely is <i>continue</i>______________
  <li> A <b>requirement</b> imposed by a function upon its parameters, such that
    the correctness of the result is not guaranteed if the requirement is
    not met, is called a <i>precondition</i>________________
</ol>

<li>
<b>Evaluate</b> each of the following Python expressions
exactly as given,
or if it produces an error, describe the error.
Assume each expression is independent of the others.
Assume all necessary <tt>import</tt>s have been done.
For all expressions, assume only the following initialization: <u>[14]</u>
<pre>	myPear = "Bartlett"
	from math import pi	</pre>
  <ol class="subparts">
  <li><tt> 'pi' + 2*'z' + 'a' </tt>	<i>'pizza'</i>
  <li><tt> 2 + 1&gt;4 and (5/0 &lt; 1)	</tt>	<i>False</i>
  <li><tt> 14 / 4 - 4.0	</tt>		<i>-1.0</i>
  <li><tt> 9 | 3 </tt>			<i>11</i>
  <li><tt> 9 % 3 </tt>			<i>0</i>
  <li><tt> "%03d%s" % (15.189, 'pears')	</tt>	<i>'015pears'</i>
  <li><tt> string.upper(Bosc)	</tt>	<i>NameError: Bosc</i>
  <li><tt> "%07.3f" % 3.1415926535</tt>	<i>'003.142'</i>
  <li><tt> range(myPear)	</tt>	<i>TypeError</i>
  <li><tt> myPear[1:2]	</tt>		<i>'a'</i>
  <li><tt> 'b' + 'e' </tt>		<i>'be'</i>
  <li><tt> ord('b') - ord('e') </tt>	<i>-3</i>
  <li><tt> 'b' - 'e' </tt>		<i>TypeError</i>
  <li><tt> 'b' + 3+'e'	</tt>		<i>TypeError</i>
</ol>
<br>

<li>
What is a <b>namespace</b>?  Tell me everything you know about scope rules and
namespaces in Python.
<u>[5]</u>
<br>
<i>
A namespace is a mapping (dictionary) from identifiers (names) to objects
(values).  There are three kinds of namespaces: the local namespace within a
function/class/block, the global namespace for each module/file, and the
default built-in namespace for all of Python.  The scoping rules resolve names
by moving outward from the local namespace, to any enclosing function/class
definitions, to the global namespace for the file, to the default namespace.
</i>
<br><br><br><br><br><br><br><br><br><br>

<li>
Define or describe each of the following <b>object-oriented</b> terms:
<u>[7]</u>
<ol class="subparts">
  <li> Class: <i>a user-defined container type</i>
  <li> Instance: <i>an object; instances are to classes as variables are to
  types</i>
  <li> Attribute: <i>a variable or method belonging to an object</i>
  <li> Method: <i>a function/procedure belonging to an object</i>
  <li> Constructor/initializer: <i>the special method which is called when an object is
  instantiated</i>
  <li> Interface: <i>a set of messages that an object can receive</i>
  <li> Overloading: <i>giving multiple definitions to a
  function/method/operator depending on the type of its parameters/operands</i>
</ol>

<li>
Modula-2 and C have no built-in <b>string</b> type.  What is a string
in Modula-2 or C?  Declare a string variable in either M2 or C.
<u>[4]</u>
<br>
<i>In M2 and C, strings are just arrays of characters, terminated by a
null.  In M2:<pre>
VAR
	m2Str : ARRAY [0..255] OF CHAR;
</pre>In C:<pre>
	char cStr[256];
</pre></i>
<br><br><br><br>

<li>
Tell me everything you know about Python <b>dictionaries</b>.
<u>[4]</u>
<br>
<i>A dictionary is a mapping from keys to values.  The keys may be anything
of immutable type (numbers, strings, tuples of immutable things, etc.); the
values may be Python object (including instances of user-defined classes).
Dictionaries are indexed by key in square brackets, much like lists are.
Some commonly used operations on dictionaries include len(), in (test for
membership), .keys() (list all the keys), .values() (list all the values),
etc.</i>
<br><br><br><br><br><br><br><br><br><br><br><br>

<li>
Describe all the differences between Python <b>lists</b> and C <b>arrays</b>.
<u>[4]</u>
<br>
<i>Python lists can change length (can insert/delete), can have items of 
differing type, can have
items which change type (due to Python's dynamic typing), and have various
operators/functions defined on them, such as del, len(), negative indexing,
list slicing, etc. </i>
<br><br><br><br><br><br><br><br><br><br>

<li>
Write a Python program to <b>read</b> in text from the file "input.txt",
translate all letters to <b>uppercase</b>, and print out the result to 
the screen.
Docstring is required; pseudocode is not.
<u>[6]</u>
<br>
<i>Many ways to solve this.  One simple solution:<pre>
myFile = open('input.txt')
fullText = myFile.read()	# read whole file in!
print fullText.upper()
</pre></i>
<br><br><br><br><br><br><br>

<li>
We wish to demonstrate the differences between <b>alias</b>,
<b>shallow copy</b>, and <b>deep copy</b>.
Come up with your own situation using <b>records</b> that might illustrate
this.  Define the record types in Python, create a sample record, then create
an alias, a shallow copy, and a deep copy.
<u>[6]</u>
<br>
<i><pre>
class Date:
	def __init__(self, y=2000, m=1, d=1):
		self.year = y
		self.month = m
		self.day = d
class Student:
  	def __init__(self, n='', bd=Date()):
		self.name = n
		self.birthdate = bd

s1 = Student('Bob', Date(1987, 1, 1))

# alias: s3 is an alias for Bob
s3 = s1

# shallow copy: a twin of Bob, shared birthdate
import copy
s4 = copy.copy(s1)
# or:
s4 = Student()
s4.name = s1.name
s4.birthdate = s1.birthdate

# deep copy: a separate copy of Bob
s5 = copy.deepcopy(s1)
# or:
s5 = Student()
s5.name = s1.name
s5.birthdate.year  = s1.birthdate.year
s5.birthdate.month = s1.birthdate.month
s5.birthdate.day   = s1.birthdate.day
</pre></i>
<br><br><br><br><br><br>

<li><ol class="subparts">

<li>
Declare a Python class for a node of a <b>doubly-linked list</b>.
<u>[4]</u>
<br>
<i><pre>
class DoublyLinkedNode:
	def __init__(self, d=None, p=None, n=None):
		self.data = d
		self.prev = p
		self.next = n
</pre>
Optionally, also define a class for the list as a whole:<pre>
class DoublyLinkedList:
	def __init__(self):
		self.head = None
</pre></i>
<br><br><br><br>

<li>
Using your class declaration above, <b>create</b>
a doubly-linked list with three nodes.  (You can put whatever you like
in the data fields.)
<u>[4]</u>
<br>
<i><pre>
listLength = 3
myList = DoublyLinkedNode(0)
cursor = myList
for idx in range(1,listLength):
	cursor.next = DoublyLinkedNode(idx, cursor)
	cursor = cursor.next
</pre></i>
<br><br><br><br><br><br><br>

<li>
We wish to design a Python function to <b>insert</b> a node into a given
doubly-linked list at a given position.  List the <b>parameters</b> needed for
such a function.  What <b>preconditions</b> are there?  What
are the <b>types</b> of the parameters?  What is the <b>return type</b> of the
function?
<u>[4]</u>
<br>
<i><pre>
# This goes in the class definition for a DoublyLinkedList
def insert(self, pos, data):
	"""Insert a new entry into the current linked-list (self).
	pos: integer &gt;= 0: 0 means insert at head of list.
	data: payload to put in new node.
	Does not return anything, but modifies current list (self)."""
</pre></i>
<br><br><br><br><br><br><br><br>

<li>
Now write a complete Python function to <b>insert</b> into a doubly-linked
list.
Docstring and preconditions are not required (that was the point of the last
part of this question).
<u>[6]</u>
<br>
<i><pre>
# This goes in the class definition for a DoublyLinkedList
def insert(self, pos, data):
	# Special case: insert at head
	if pos == 0:
		newNode = DoublyLinkedNode(data, None, self.head)
		self.head = newNode
		return

	# Move cursor to just before where we'll insert
	cursor = self.head
	for idx in range(pos-1):
		cursor = cursor.next

	# Thread in a new node
	newNode = DoublyLinkedNode(data, cursor, cursor.next)
	cursor.next = newNode
</pre></i>
<br><br><br><br><br><br><br><br><br>

</ol>

<li>
Design a <b>definition</b> (header) file for a <b>pseudorandom</b> number
generator library.  You may use a formal language like Python or C, or
you may use pseudocode.  Include (in docstrings or comments) preconditions 
for each function.
<u>[6]</u>

<li>
Write a complete <b>pseudorandom</b> number generator library in Python.
Also include a testbed program using your library (need not be interactive).
You need not worry about producing truly random numbers, but please make a
reasonable effort to make them hard to predict.
Docstrings and pseudocode are not required, but may be good for partial credit.
<u>[10]</u>

<br><i>For these problems,
<a href="http://twu.seanho.com/python/pseudorandom.py">see the file
pseudorandom.py</a></i>

</ol>

</body></html>


