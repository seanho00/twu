<html><head>
<link rel=stylesheet type="text/css" href="/handout.css" />

<style type="text/css"><!--
li { font-size: 12pt; }
/**** Name at top right of page ****/
table.nameblock {
  text-align: right;
  position: absolute;
  top: 0;
  right: 0;
}
.main li { margin-top: 1em; }
.subparts li { margin-top: 0.5em; } 
ol.subparts { list-style-type: lower-alpha; }
.break { page-break-before: always; }
u {
  color: red;
  font-weight: bold;
  text-decoration: none;
}
i {
  color: blue;
  font-style: normal;
  font-weight: bold;
}
--></style>

<title>CMPT145 Fall2006 Midterm 3 KEY, Trinity Western.  22 Nov 2006.</title>
</head><body>

<table class=nameblock>
  <tr><td>Name:		</td><td>_K_E_Y____________</td></tr>
  <tr><td>Student ID:	</td><td>__________________</td></tr>
</table>

<ol class="main">

<li>
An orchard grows five apple varieties:
<br>Fuji, Gala, Spartan, Rome, and Melba.<br>
The apples I like are Fuji, Gala, and Rome; let this <b>set</b> be denoted by
<tt>myFav</tt>.  <br>Let <tt>yrFav</tt> be the set containing Fuji and Melba.

<ol class="subparts">
  <li> Consider the <b>union</b> of <tt>myFav</tt> and <tt>yrFav</tt>.
  Express in words the <b>interpretation</b> of this union
  in the context of apple preferences. <u>[2]</u> <br>
  <i>The union of myFav and yrFav is the set of apple varieties that
  <b>either</b>you like <b>or</b>I like.</i><br>

  <li> Consider the <b>intersection</b> of <tt>myFav</tt> and <tt>yrFav</tt>.
  Express in words the <b>interpretation</b> of this intersection
  in the context of apple preferences. <u>[2]</u> <br>
  <i>The intersection of myFav and yrFav is the set of apple varieties that
  <b>both</b> you and I like.</i> <br>

<!--
  <li> Consider the <b>set difference</b> <tt>yrFav - myFav</tt>.
  Express in words the <b>interpretation</b> of this set difference
  in the context of apple preferences. <u>[2]</u> <br><br><br><br>
-->
  
  <li> We wish to implement some set operations using <b>bitsets</b> in Python.
  Define five Python <b>variables</b> <tt>Fuji, Gala, Spartan, Rome, Melba</tt>
  with appropriate integer values for use in a bitset.
  <u>[3]</u> <br>
  <i><pre>
fuji = 1 &lt;&lt; 0
gala = 1 &lt;&lt; 1
spartan = 1 &lt;&lt; 2
rome = 1 &lt;&lt; 3
melba = 1 &lt;&lt; 4
</pre></i>

  <li> Using the variables you just defined, define a Python <b>bitset</b>
  for <tt>myFav</tt>. <u>[2]</u> <br>
  <i><pre>
myFav = fuji | gala | rome
</pre></i>

<!--
  <li> Write a Python expression for the <b>intersection</b> of
  <tt>myFav</tt> and <tt>yrFav</tt>. <u>[2]</u> <br><br><br>
-->

  <li> Define a Python function <tt>likesGala()</tt> that returns a
  <b>boolean</b> value indicating whether a given bitset includes Gala.
  Include a short docstring. <u>[3]</u>
  <i><pre>
def likesGala(fav):
	"""Returns whether the bitset 'fav' includes Gala."""
	return (fav & gala) == gala
</pre></i>

</ol>

<li class="break">
One of the nice things a Python list can do that a C array can't is
<b>delete</b> elements from the middle of the list.  C arrays have fixed length:
so in C array semantics, deleting element 1 from the array
<tt>[0, 1, 2, 3, 4]</tt> results in <tt>[0, 2, 3, 4, 4]</tt> -- where
the last element is just considered junk to be ignored.

<ol class="subparts">
  <li> Write a Python function that takes a list and an index, and deletes the
  corresponding element from the list.  (This function can be nearly trivial in
  Python.)  Include a short docstring. <u>[2]</u> <br>
  <i><pre>
def list_del(thelist, idx):
	"""Delete the idx-th element from thelist (modifies thelist)."""
	del thelist[idx]
</pre></i>

  <li> Write a Python function to do the same, but using <b>C array
  semantics</b>:
  don't use Python's ability to delete or take list slices.
  Include a short docstring.
  <u>[4]</u> <br>
  <i><pre>
def array_del(thearray, idx):
	"""Delete the idx-th element from thearray, using C array semantics."""
	for i in range(idx+1, len(thearray)):
		thearray[i-1] = thearray[i]
</pre></i>

</ol>

<li>
In your own words, contrast the <b>procedural</b> vs.
<b>object-oriented</b> programming paradigms.
<u>[4]</u>
<br><i>Procedural programming is action-oriented: the code is a sequence of
procedures, and the data structures are passed as parameters to the procedures.
The focus is on the 'verbs'.  In contrast, object-oriented programming is
data-oriented: code is organized into classes, centred around objects, and the
procedures are treated as methods within each class.  The focus is on the
'nouns'.</i><br>

<li>
Define or describe each of the following <b>object-oriented</b> terms:
<u>[8]</u>
<ol class="subparts">
  <li> Message: <i>communication between objects; how methods are called</i>
  <li> Interface: <i>a set of messages that an object can receive</i>
  <li> Class: <i>a user-defined container type</i>
  <li> Instance: <i>an object; instances are to classes as variables are to
  types</i>
  <li> Attribute: <i>a variable or method belonging to an object</i>
  <li> Method: <i>a function/procedure belonging to an object</i>
  <li> Constructor: <i>the special method which is called when an object is
  instantiated</i>
  <li> Overloading: <i>giving multiple definitions to a
  function/method/operator depending on the type of its parameters/operands</i>
</ol>

<li>
Given the following block of Python code, consider the names <b>visible</b>
to the print statment at the end.  For each of the 9 expressions in the print
statement, write what would be printed,
or if the name is not visible, write 'NameError'. <u>[9]</u>
<pre>
w = 1
class C:
	w = 2
	x = 3
	def __init__(self):
		from math import sqrt
		w = 4
		x = 5
		y = 6
		self.z = 7
a = C()
<i>w=1, x=NameError, y=NameError, z=NameError,
a.w=2, a.x=3, a.y=NameError (really AttributeError), a.z=7,
sqrt(4.0)=NameError</i>
</pre>

<li class="break">
Using <b>exceptions</b>, modify the following block of Python code to print,
"Can't divide by zero; goodbye!" and exit the loop when the user inputs 0.
<u>[4]</u>
<pre>
<i>
try:
</i>
	while True:
	
		in = input("Type a number and I'll invert it! ")

		recip = 1.0/in

		print "The reciprocal is:", recip
<i>
except ZeroDivisionError:
	print "Can't divide by zero; goodbye!"
</i>
	
</pre>

<li>
The Python text ch10 describes an example application using <b>dictionaries</b>
to implement "<b>sparse matrices</b>" -- where only the non-zero entries of a 
matrix are stored.  The keys are (row,col) tuples, and the values are the
corresponding non-zero entries of the matrix.  For example, a 2x2 sparse matrix
with the value 5 in entry (1,0) and the value 3 in entry (1,1) would be
represented by the dictionary <tt>{(1,0): 5, (1,1): 3}</tt>.
	
<ol class="subparts">
  <li> Write a Python function that returns the number of <b>non-zero</b> 
  entries in a sparse matrix.  (Hint: it should be a very short function!)
  Include a short docstring. <u>[2]</u> <br>
  <i><pre>
def count_nonzero(matrix):
	"""Count the number of non-zero entries in a sparse matrix.
	Assumes that only non-zero entries are represented in the
	dictionary."""
	return len(matrix)
</pre></i>

<!--
  <li> Write a Python function that returns the number of non-zero entries in a
  given <b>row</b> of a sparse matrix. 
  You may assume the caller will pass in two additional parameters, 
  <tt>nrows</tt> and <tt>ncols</tt>, specifying the number of 
  rows and columns in the matrix.
  Include a short docstring.
  <u>[3]</u> <br><br><br><br><br><br><br><br><br><br><br><br>
-->

  <li> Write a Python function that returns a nicely formatted <b>string</b>
  representation of a sparse matrix.  The function should not print anything,
  just return a string, akin to the <tt>__str__()</tt> method.
  For example, the 2x2 matrix mentioned above might be formatted as,
  " 0  0 \n 5  3" (but don't worry excessively about the spacing).
  You may assume the caller will pass in two additional parameters, 
  <tt>nrows</tt> and <tt>ncols</tt>, specifying the number of 
  rows and columns in the matrix.
  Include a short docstring. <u>[5]</u>
  <br><i><pre>
def __str__(matrix, nrows, ncols):
	"""Return pretty-printed string representation of sparse matrix."""
	s = ''
	for r in range(nrows):
		for c in range(ncols):
			s += ' %2d' % matrix.get((r,c), 0)
		s += '\n'
	return s
</pre></i>

</ol>

</ol>

</body></html>

