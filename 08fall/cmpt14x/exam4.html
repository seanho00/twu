<html><head>
<link rel=stylesheet type="text/css" href="/handout.css" />
<link rel=stylesheet type="text/css" href="/exam.css" />
<script type="text/javascript" src="/exam.js"></script>
<style type="text/css"><!--
i { display: none; }
--></style>
<title>CMPT14x Fall 2008 Final Exam, Trinity Western, 11Dec2008</title>
</head><body>

<div><a href="#" onClick="toggleAnswers()">[ answers in web view ]</a></div>

<table class=nameblock>
  <tr><td>Name:		</td><td>_______________________________
  <i>K E Y</i></td></tr>
  <tr><td>Student ID:	</td><td>_______________________________</td></tr>
</table>

<br>Unless otherwise specified, all questions pertain to Python.
<br>Total points: 110

<ol class="main">

<li>
Name the five steps to <b>top-down</b>
problem solving as described in the text.
(It's okay if you can't remember the exact wording;
the concepts are more important.)
<u>[5]</u><br><br>
<i>Write, Apprehend, Design, Execute, Scrutinize<br></i>
<center><table width=80%><tr>
<td width=20%>___________</td>
<td width=20%>___________</td>
<td width=20%>___________</td>
<td width=20%>___________</td>
<td width=20%>___________</td>
</tr></table></center>

<li>
Describe the five software <b>control/flow</b> 
abstractions mentioned in the text. 
For each one, also name a corresponding Python language construct.
<u>[5]</u><br><br>
<i>Sequence (newlines in Python), Selection (if/elif/else),
Repetition (while/for), Composition (def/functions), Parallelism<br></i>
<center><table width=80%><tr>
<td width=20%>___________</td>
<td width=20%>___________</td>
<td width=20%>___________</td>
<td width=20%>___________</td>
<td width=20%>___________</td>
</tr></table></center>
<br><br>

<li> Fill in the blank: <u>[18]</u> <ol class="subparts">
  <li> "<b>Computers</b> are <i>tools</i>__________, and computing scientists
  are <i>toolsmiths</i>________________."
  <li> The Python keyword used to introduce an exception <b>handler</b> clause is
  <i>except</i>__________
  <li> Convert 110011101 from binary to <b>hexadecimal</b>:  <i>0x19D</i>_________
  <li> What word describes functions which <b>invoke</b> themselves?
  <i>recursion</i>_______
  <li> A <b>requirement</b> imposed by a function upon its parameters, such that
    the correctness of the result is not guaranteed if the requirement is
    not met, is called a <i>precondition</i>________________
  <li> What is the <b>type</b> of the Python expression 
  <tt><b>2*[False]</b></tt> ? <i>list</i>________
  <li> What special method name does Python use for the constructor/initializer
  method?  <i>__init__()</i>____________
  <li> Name the two Python program control constructs we learned which 
  correspond to <b>repetition</b>: <i>while, for</i>________ __________
  <li> In <b>statically-typed</b> languages, before we can use the value of a 
  variable for the first time in <br> a program, we need to
  ______________<i>declare</i> and ________________<i>initialize</i> it.
  <li> An HSDPA cell-phone connection runs at <b>7.2Mb/s</b>.  Assuming full 
  utilization of the bandwidth (which never happens in reality), how long would
  it take to download a <b>1.44GB</b> file?  Assume <b>SI</b> (decimal) units.
  It is okay to express your answer in seconds.
  <i>1600 seconds, or 26 mins 40 seconds</i>_____________
  <li> What method returns a list of all the <b>indices</b> in a <b>dictionary</b>?
  <i>keys()</i>________
  <li> The Python method on file objects that returns current <b>location</b>
  in the file is called <i>tell()</i>__________
  <li> What English part of speech should a <b>function</b> name be?
  <i>verb</i>___________
  <li> What operator is used to indicate bitwise <b>AND</b>?  <i>&amp;</i>_______
  <li> In Python, when a list is passed as a parameter to a function, the formal
  parameter becomes not a copy but an alias of the actual parameter.  This
  semantics of parameter passing is called 
  <i>call by reference</i>___________________________.
</ol>

<li>
<b>Evaluate</b> each of the following Python expressions
exactly as given,
or if it produces an error, describe the error.
Assume each expression is independent of the others.
Assume all necessary <tt>import</tt>s have been done.
For all expressions, assume only the following initialization: <u>[14]</u>
<pre>	myPear = "Red Delicious"
	from math import pi	</pre>
  <ol class="subparts">
  <li><tt> 2 + 1&gt;4 and (5/0 &lt; 1)	</tt>	<i>False</i>
  <li><tt> 0x1e </tt>			<i>30</i>
  <li><tt> 10 | 6 </tt>			<i>14</i>
  <li><tt> 12 % 3 </tt>			<i>0</i>
  <li><tt> 2 * [2, 4, 6] </tt>		<i>[2, 4, 6, 2, 4, 6]</i>
  <li><tt> "%03d%s" % (15.189, 'pears')	</tt>	<i>'015pears'</i>
  <li><tt> "%07.2f" % 3.1415926535</tt>	<i>'0003.14'</i>
  <li><tt> string.upper(Fuji)	</tt>	<i>NameError: Bosc</i>
  <li><tt> range(myPear)	</tt>	<i>TypeError</i>
  <li><tt> myPear[2:5]	</tt>		<i>'d D'</i>
  <li><tt> 'b' + 'e' </tt>		<i>'be'</i>
  <li><tt> ord('b') - ord('e') </tt>	<i>-3</i>
  <li><tt> 'b' - 'e' </tt>		<i>TypeError</i>
  <li><tt> 'b' + 2*'e' + 'p'	</tt>		<i>'beep'</i>
</ol>
<br>

<li>
List at least eight built-in Python <b>types</b> we learned. <u>[4]</u>
<br><i>
  int, long, float, str, bool, list, tuple, set, dict, complex
</i><br><br><br>

<li>
Modula-2 and C have no built-in <b>string</b> type.  What is a string
in Modula-2 or C?  Declare a string variable in either M2 or C.
<u>[4]</u>
<br>
<i>In M2 and C, strings are just arrays of characters, terminated by a
null.  In M2:<pre>
VAR
	m2Str : ARRAY [0..255] OF CHAR;
</pre>In C:<pre>
	char cStr[256];
</pre></i>
<br><br><br><br>

<li>
What is a <b>namespace</b>?  Tell me everything you know about scope rules and
namespaces in Python.
<u>[5]</u>
<br>
<i>
A namespace is a mapping (dictionary) from identifiers (names) to objects
(values).  There are three kinds of namespaces: the local namespace within a
function/class/block, the global namespace for each module/file, and the
default built-in namespace for all of Python.  The scoping rules resolve names
by moving outward from the local namespace, to any enclosing function/class
definitions, to the global namespace for the file, to the default namespace.
</i>
<br><br><br><br><br><br><br><br><br><br>

<li class="break">
Consider the following Python expression:<br>
<tt>-2 + x * n ** 5 // (3 - y) &gt; numApples % 2 and not 3 in range(0, 10, 2)</tt>.
<ol class="subparts">

<li> Draw an <b>expression tree</b> for the expression. <u>[4]</u>
<br><i>
</i><br><br><br><br><br><br><br><br><br><br><br><br><br>

<li> What is the <b>depth</b> of your tree? <u>[1]</u>
<br><i>
  6
</i><br>

<li> Now rewrite the expression in <b>postfix</b> (Reverse Polish)
notation: i.e., do a post-order traversal of the expression tree.
(This will not be valid Python code.)<u>[2]</u>
<br><i>
  2, -, x, n, 5, **, *, 3, y, -, //, +, numApples, 2, %, &gt;, 3, range(0, 10, 2), in, not, and
</i><br><br><br><br>

</ol>

<li>
Define or describe each of the following <b>object-oriented</b> terms:
<u>[7]</u>
<ol class="subparts">
  <li> Class: <i>a user-defined container type</i>
  <li> Instance: <i>an object; instances are to classes as variables are to
  types</i>
  <li> Attribute: <i>a variable or method belonging to an object</i>
  <li> Method: <i>a function/procedure belonging to an object</i>
  <li> Constructor/initializer: <i>the special method which is called when an object is
  instantiated</i>
  <li> Interface: <i>a set of messages that an object can receive</i>
  <li> Overloading: <i>giving multiple definitions to a
  function/method/operator depending on the type of its parameters/operands</i>
</ol>
<br><br><br><br>

<li>
Describe all the differences between Python <b>lists</b> and C <b>arrays</b>.
<u>[4]</u>
<br>
<i>Python lists can change length (can insert/delete), can have items of 
differing type, can have
items which change type (due to Python's dynamic typing), and have various
operators/functions defined on them, such as del, len(), negative indexing,
list slicing, etc. </i>
<br><br><br><br><br><br><br><br><br><br>

<li>
We wish to demonstrate the differences between <b>alias</b>,
<b>shallow copy</b>, and <b>deep copy</b>.
Come up with your own situation using <b>records</b> that might illustrate
this.  Define the record types in Python, create a sample record, then create
an alias, a shallow copy, and a deep copy.
<u>[6]</u>
<br>
<i>See <a href="exam4-alias.py">separate Python code</a>.
</i>
<br><br><br><br><br><br>

<li><ol class="subparts">

<li>
Declare a Python class for a node of a <b>doubly-linked list</b>.
<u>[3]</u>
<br>
<i><pre>
class DoublyLinkedNode:
	def __init__(self, d=None, p=None, n=None):
		self.data = d
		self.prev = p
		self.next = n
</pre>
Optionally, also define a class for the list as a whole:<pre>
class DoublyLinkedList:
	def __init__(self):
		self.head = None
</pre></i>
<br><br><br><br>

<li>
Using your class declaration above, <b>create</b>
a doubly-linked list with three nodes.  (You can put whatever you like
in the data fields.)
<u>[3]</u>
<br>
<i><pre>
listLength = 3
myList = DoublyLinkedNode(0)
cursor = myList
for idx in range(1,listLength):
	cursor.next = DoublyLinkedNode(idx, cursor)
	cursor = cursor.next
</pre></i>
<br><br><br><br><br><br><br>

<li>
We wish to design a Python function to <b>delete</b> a node from a given
doubly-linked list at a given position (index).  List the <b>parameters</b> needed for
such a function.  What <b>preconditions</b> are there?  What
are the <b>types</b> of the parameters?  What is the <b>return type</b> of the
function?
<u>[4]</u>
<br>
<i><pre>
# This goes in the class definition for a DoublyLinkedList
def delete(self, pos):
	"""Insert a new entry into the current linked-list (self).
	pos: integer &gt;= 0: 0 means insert at head of list.
	Does not return anything, but modifies current list (self)."""
</pre></i>
<br><br><br><br><br><br><br><br>

<li>
Now write a complete Python function to <b>delete</b> a node 
from a doubly-linked list.
Docstring and preconditions are not required (that was the point of the last
part of this question).  Remember to clean up your "garbage".
<u>[5]</u>
<br>
<i><pre>
# This goes in the class definition for a DoublyLinkedList
def delete(self, pos):
	# Special case: delete head
	if pos == 0:
		trash = self.head
		self.head = self.head.next
		del trash
		return

	# Move cursor to just before the node to delete
	cursor = self.head
	for idx in range(pos-1):
		cursor = cursor.next

	# Skip over the deleted node and trash it
	trash = cursor.next
	cursor.next = cursor.next.next		# still ok even at the tail
	del trash
</pre></i>
<br><br><br><br><br><br><br><br><br>

</ol>

<li class="break">
Tell me everything you know about <b>exceptions</b> in Python.
<u>[4]</u>
<br>
<i>
Exceptions are a way of breaking out of the normal flow of execution in a 
Python program.  Exceptions are raised/thrown by built-in and standard library
functions when errors happen.  Exceptions may also be raised programmatically
via the <tt>raise</tt> command.  A <tt>try</tt> keyword delimits a block wherein
an exception is expected to be raised.  If an exception is raised anywhere within
that <tt>try</tt> block, control jumps to the corresponding <tt>except</tt> block
(the exception handler).  The <tt>except</tt> clause may catch all exceptions
(discouraged), or it may specify which exceptions it will handle.  Any unhandled
exceptions will continue looking for a handler down the call stack.
The programmer may also define custom exceptions by subclassing the built-in
class <tt>Exception</tt>.
</i>
<br><br><br><br><br><br><br><br><br><br>

<li>
Write a Python program to <b>read</b> in text from the file "input.txt",
translate all characters to their numeric <b>ASCII codes</b>, separated by spaces,
and write the result to the file "output.txt".
Docstring, pseudocode are not required, but may be helpful for partial credit
if your code isn't right.  <u>[6]</u>
<br><i>
</i>
<br><br><br><br><br><br><br><br><br><br>
<li>
One (very slow) way to calculate the value of pi is to compare the area of 
the unit
quarter-circle with the area of the unit square.  We can estimate this by
generating random points in the unit square, and counting how many lie
within the quarter-circle.  The ratio should approximate pi/4 as the number of
points increases.

<br><br>
Write a function <tt>circle_pi(count, freq)</tt> that uses <tt>count</tt>
points to estimate pi, printing out estimates every <tt>freq</tt> iterations
(to show its progress).  You may use the <tt>random</tt> standard Python
library. 
<em>(Hint: Pythagoras' theorem states that for any right triangle with legs
a and b and hypotenuse c, a**2 + b**2 = c**2.)</em>
<u>[6]</u>

<br><br>
Write a testbed program that calls your function, but saves the printed
output to a file instead of printing to the screen. <u>[2]</u>

<br><br>
Docstrings are required for your program and your function; comments
are not required but may be helpful for partial credit if your code isn't
perfect.

<br>
<i>See <a href="exam4-circlepi.py">separate Python code</a>.
</i><br>

</ol>

</body></html>


